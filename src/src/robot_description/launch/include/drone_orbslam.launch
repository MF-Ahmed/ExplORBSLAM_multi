<!--

-->

<launch>

    <master auto="start"/>

    <arg name="namespace"/>
    <arg name="agent_number"/>
    <param name="use_sim_time" value="true" />

    <node name="orb_slam2_rgbd" pkg="orb_slam2_ros" type="orb_slam2_ros_rgbd" output="screen" respawn="false">
        <remap from="/camera/rgb/image_raw" to="camera/rgb/image_raw" />
        <remap from="/camera/depth_registered/image_raw" to="camera/depth/image_raw" />
        <remap from="/camera/rgb/camera_info" to="camera/rgb/camera_info" />
        <remap from="/odom" to="ground_truth/state" />
      
        <param name="publish_pointcloud" type="bool" value="true" />
        <param name="publish_pose" type="bool" value="true" />
        <param name="localize_only" type="bool" value="false" />
        <param name="reset_map" type="bool" value="false" />

        <param name="robot_namespace" type="string" value="$(arg namespace)"/>

        <param name="pointcloud_frame_id" type="string" value="$(arg namespace)/map" />
        <param name="camera_frame_id" type="string" value="$(arg namespace)/base_link" />
        <param name="target_frame_id" type="string" value="$(arg namespace)/base_link" />
        <param name="enable_pangolin"   type="bool"     value="true" />

        <param name="load_map" type="bool" value="false" />
        <param name="map_file" type="string" value="map.bin" />
        <param name="voc_file" type="string" value="$(find orb_slam2_ros)/orb_slam2/Vocabulary/ORBvoc.txt" />
        <param name="min_num_kf_in_map" type="int" value="5" />

        <param name="/ORBextractor/nFeatures" type="int" value="1000" />
        <param name="/ORBextractor/scaleFactor" type="double" value="1.2" />
        <param name="/ORBextractor/nLevels" type="int" value="8" />
        <param name="/ORBextractor/iniThFAST" type="int" value="20" /> <!--  20 house -->
        <param name="/ORBextractor/minThFAST" type="int" value="7" />  <!--  7 house -->

        <param name="camera_fps" type="int" value="30" />
        <param name="camera_bf" type="int" value="72" />
        <param name="camera_rgb_encoding" type="bool" value="true" />
        <param name="ThDepth" type="double" value="30.0" />
        <param name="depth_map_factor" type="double" value="1.0" />
        <param name="load_calibration_from_cam" type="bool" value="true" />
    </node>


</launch>

